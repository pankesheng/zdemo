<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<title>百度地图</title>
<script src="../jquery/jquery-1.8.1.min.js" type="text/javascript"></script>
<script src="http://api.map.baidu.com/api?v=1.5&ak=EUFQQVfyLtMUGoYS8GmDv1bA" type="text/javascript"></script>
<script type="text/javascript">
	function initialize() {
		var map = new BMap.Map("mymap");
		var point = new BMap.Point(110.404, 30.915);
		map.centerAndZoom(point, 15);
		map.panTo(new BMap.Point(116.409, 39.918));// 移到指定位置
		map.enableScrollWheelZoom();// 支持缩放
		
		// map.addControl(new BMap.NavigationControl());// 平移缩放控件
		map.addControl(new BMap.ScaleControl());// 比例尺控件
		map.addControl(new BMap.OverviewMapControl());// 缩略地图控件
		map.addControl(new BMap.GeolocationControl());// 定位控件(针对移动端开发)
		// map.addControl(new ZoomControl());// 自定义控件

		z_addMarker(map);
		z_addPolyline(map);
	}

	// 标注
	function z_addMarker(map) {
		var myIcon = new BMap.Icon("icon_loc_1.png", new BMap.Size(36, 49), {
			offset : new BMap.Size(18, 49)
		});
		var point = new BMap.Point(116.404, 39.915);
		var marker = new BMap.Marker(point, {
			icon : myIcon
		});
		marker.addEventListener("click", function(e) {
			z_openWindow(map, e.point);
		});
		map.addOverlay(marker);
		// map.removeOverlay(marker);// 移除
	}
	// 弹窗
	function z_openWindow(map, point) {
		var opts = {
			width : 250,
			height : 100,
			title : "标题"
		}
		var infoWindow = new BMap.InfoWindow("内容", opts);
		map.openInfoWindow(infoWindow, point);
	}
	// 线
	function z_addPolyline(map) {
		var polyline = new BMap.Polyline([ new BMap.Point(116.399, 39.910), new BMap.Point(116.405, 39.920) ], {
			strokeColor : "blue",
			strokeWeight : 6,
			strokeOpacity : 0.5
		});
		map.addOverlay(polyline);
	}

	// 自定义控件
	function ZoomControl() {
		this.defaultAnchor = BMAP_ANCHOR_TOP_RIGHT;
		this.defaultOffset = new BMap.Size(10, 10);
	}
	ZoomControl.prototype = new BMap.Control();
	ZoomControl.prototype.initialize = function(map) {
		var div = document.createElement("div");
		div.appendChild(document.createTextNode("刷新"));
		div.style.cursor = "pointer";
		div.style.border = "1px solid gray";
		div.style.backgroundColor = "white";
		div.onclick = function(e) {
			alert("刷新");
		}
		map.getContainer().appendChild(div);
		return div;
	}

	$(document).ready(function() {
		initialize();
	});
</script>
</head>
<body>
	<div id="mymap" style="width: 600px; height: 400px"></div>
</body>
</html>